# README (written in UTF-8 for github)

ニコリク・ミクノポップエディション

■これは？

NicoRequestという、ニコニコ生放送支援ツールを再改変したものです。
主に、これまでニコリクを使ったことのない人向けに調整してあります。
実際には、私（さいはね）が使っているものそのままです。

■各バージョンの入手先

オリジナルは作者であるExceptionErrorさんのブログ経由で入手できます。

　ExceptionErrorMessage
　http://d.hatena.ne.jp/ExceptionError/

ボーカロイド系生放送用にミクライブ6代目さんによって拡張された
バージョンを、さらにw2kさんによって拡張されたバージョン（2323）を
ベースにしています。w2kさんによるバージョンは次のサイトから入手できます。

　ボカロ系生放送専用掲示板
　http://jbbs.livedoor.jp/internet/2353/

ミクノポップエディションは次のサイトから入手できます。更新情報なども
こちらで。

　「ミクノポップをきかないか？」まとめ
　http://mikunopop.info/

みなさまに感謝いたします。

■最初に

使用するにはWindowsとInternetExplorerが必要です。

IE以外のブラウザで使いたい場合などは、別途NicoCookieImporterが必要です。
さらに細かいことは、他の配布物やウェブの情報を参照してください。

■インストール

インストーラの指示に従ってインストールしてください。
プログラムが入っているフォルダ（Nicoreq Mikunopop Edition）は
好きな場所へ移動しても構いません。

■簡単な使い方

１．NicoRequest.htaを起動します
２．「接続」に、放送のＵＲＬか放送番号を入力します。うまくいけば、右上に放送の
　　残り時間が表示されます（これは正確ではないので参考程度に）。
３．ジングルを流すには、曲を選んで「流す」を押します。なお、再生履歴には残りません。
４．リスナーが動画番号を発言すると、自動で動画が「リクエスト」欄に追加されます。
５．主セレを入れたい場合は、「リクエスト」メニューの「テキストの取り込み」で
　　ＵＲＬまたは動画番号を入力します。いっぺんに複数の動画を入力できます。
６．放送中に動画を流すには、再生ボタン（右矢印マーク）を押すか、各動画の「再生」
　　ボタンを押します。
７．次の動画を自動で流したり、一覧からランダムに流すこともできます。
８．放送が終わったら、「リクエスト」メニューの「再生履歴」の内容をコピーして
　　プレイリストスレに書き込みます。

あとは、テスト用コミュなどを利用して、いろいろ試してみてください。

■設定ファイル

設定ファイルはsettings.jsです。いろいろ細かい設定ができるので、一度は見ておくと
よいでしょう。メモ帳等で開くことができます。

P名のリストはpnames.jsです。随時追加しますので、IRCやメール等でお知らせください。

■メンテナンス

プログラムがあるフォルダにplaylog.txtとwatchlog.txtが自動生成
されますが、放っておくとかなりの容量になるのでたまにファイルごと
定期的に消すといいかもしれません。私は枠ごとに消去しています。

■変更点

・（私が）使わない機能に関する表示を省いて、見た目をすっきり。
・デフォルト値を実用的な値に最初から調整してあります。
・動画のサムネイルを表示できるように。
・ミクノポップのジングル等を最初から曲名入りで準備。
・ミクノポップ生放送での再生回数（＝ミクノ度、と勝手に命名）を
　表示するように。
・インストーラを追加しました。
・その他、こまごました修正。
　　再生数などに３桁ごとにカンマを入れて読みやすく。

■注意点

settings.jsは一部、元バージョンと互換性がなくなっています。

■よくあるかもしれない質問

Q.聴き入り度とは何ですか？
A.よく知りません。

Q.正義値とは何ですか？
A.よく知りません。

Q.デスクトップ（エクスプローラ）上で、NicoRequest.htaのアプリアイコンが表示されません。
A.HTAの仕様書にはアイコンについては載っていないようです。とりあえず仕様だと思ってください。

■ソースの配布（開発者向け）

リポジトリを公開しています。

http://github.com/ryochin/nicoreq_mikunopop/tree/master

ソースは次のようにして取得できます。push はしないようお願いします。

git clone git@github.com:ryochin/nicoreq_mikunopop.git

■更新履歴

2009.10.22 1.26　起動の最適化
　・マイリスト情報を取得する方法を最適化し起動速度を向上しました。
　　サーバ混雑時でもエラーが大幅に出にくくなるはずです。
　・その他細かい情報（P名リスト等）を更新しました。

2009.10.15 1.25　ショートカットキーのバグ修正
　・テキスト編集エリアでもショートカットキーが効いてしまう問題を
　　修正しました。(thx!> w2k)
　・その他細かい情報（P名リスト）を更新しました。

2009.10.09 1.24　リクエストアイコンの表示とバグ修正
　・リスナーからリクエストがあった曲は、リクエストタブのそれぞれの
　　曲名の上に星型アイコンが表示されるようになりました。
　　　ただし、すでにストックにある曲がリクエストされた場合には
　　　アイコンは表示されません。（この仕様は将来変更される可能性があります）
　　　また、現在のところ、ニコリクを閉じると情報は失われます。
　　　アイコンを右クリックするとアイコンを消去できます。
　・上記に関連して、すでにストックにある曲がリクエストされた場合に
　　その旨のメッセージを表示するようにしました。
　　この動作は settings.js でオフにできます。
　・「マイリストから検索」ウィンドウの表示を微修正しました。
　・「マイリストから検索」でブラックリストにマッチした際に
　　曲を正しく抽出できない問題を修正しました。
　・その他細かい情報（P名リスト、タグリスト等）を更新しました。

2009.10.06 1.23　イベント告知動画の追加と微調整
　・イベント動画情報をジングル一覧に追加しました。
　・jingles.json のデータの持ち方を一部変更しました。
　　settings.js の settings["JingleComment"] から「No.」が除かれているので
　　注意してください。
　・ジングル情報の管理者コメントは /perm をつけて投稿するようにしました。

2009.10.04 1.22　細かいユーザビリティの向上
　・接続時に、クリップボードにＵＲＬ等があれば自動で埋めるようになりました。
　　ＵＲＬコピー・Ｃキー・そのままエンターキーの３ステップで接続できます。
　・動画サムネイルをクリックすると既定のブラウザで動画ページを開くようになりました。
　・「再生履歴の出力」ウィンドウの表示を強化しました。
　　　自動でパート番号を取得し表示するようになりました。
　　　パート間に改行をはさむことにより読みやすくなりました。
　　　内容をコピーするボタンをつけました。
　　以上によりテキストの編集作業が必要なくなり、Ｅキー・クリック・ペーストだけで
　　プレイリスト用テキストが準備できるようになりました。
　・Ｄキーを「切断」に割り当てました。確認ダイアログが表示されます。
　・その他細かい情報（P名リスト、タグリスト等）を更新しました。
　・その他細かい点を調整しました。

2009.09.26 1.21　デザインの改良と細かい修正
　・リクエストタブ上部にあるコントロール部分の位置を固定しました。
　・ボタンにマウスを重ねたときにカーソルの形を変えるようにしました。
　・マイリスト情報キャッシュ機能に関するパラメータを settings.js に追加しました。
　・ソートから「マイリスト率順」を削除し「曲の長さ順」を追加しました。
　・その他細かい点を調整しました。

2009.09.24 1.20.1　メンテナンスリリース
　・メンテナンスリリースです。細かい情報（P名リストとジングルリスト）を更新しました。
　　今後は、機能に関係ない情報の更新のみの場合は枝番を振りリリースします。

2009.09.21 1.20　動画情報キャッシュ機能・キーボードショートカットの導入
　・リクエストタブでソートした際に、各動画のタイトルが消えてしまう
　　問題を修正しました。
　・動画情報をローカルにキャッシュするようになりました。
　　動画情報取得時に、手元の情報が２日以上古い場合のみサーバから再取得します。
　　ただし、一部保存できない場合もあります。この機能はオフにすることもできます。
　・キーボードショートカットを試験的に導入しました。「？」メニューをどうぞ。
　・マイリストグループの取得にブラックリスト機能を追加しました。
　　放送に関係ないマイリストグループ名をスキップして初回起動を高速化できます。
　・JASコードファイルを読まないよう変更し、配布物から削除しました。
　・その他細かい点を調整しました。

2009.09.17 1.19　マイリスト取得の最適化とジングル周りの機能強化
　・マイリスト情報をローカルにキャッシュするようになり、起動が高速化されました。
　　ニコリク起動時に、手元の情報が２４時間以上古い場合のみサーバから再取得します。
　・ジングルのサムネイル画像を一覧の左に小さく表示するようにしました。
　・ジングルの情報を管理者コメントとしてポストするようになりました。
　　これに伴い、ジングルの情報は jingles.json へ分離されました。
　・P名リストを大幅に更新しました。(thx!> kotac)
　・その他細かい点を調整しました。

2009.09.15 1.18　視聴履歴の改行バグ修正
　・「視聴履歴」に改行が正しく入らない問題を修正しました。
　・その他細かい情報（P名リスト、タグリスト等）を更新しました。

2009.09.15 1.17　情報表示系を地味に強化
　・動画情報をコピーする機能を復活させました。番号 [ 1/3] の部分をクリックできます。
　・サムネイル画像を右クリックすると動画番号をコピーするようになりました。
　・リクエストタブの動画タイトルに全タグをツールチップ表示するようになりました。

2009.09.14 1.16　数多くの機能強化
　・副管理者機能を追加しました。ただし、作者は未検証です。(thx!> w2k & higumon)
　・リクエストタブの動画をミクノ度で並び替えできるようになりました。(thx!> w2k)
　・動画を「マイリストから検索」できるようになりました。(thx!> w2k)
　・P名リストを更新しました。(thx!> higumon)
　・その他細かい情報を更新しました。

2009.09.10 1.15 ７日ルールの計算変更
　・新着動画の基準を、日数でなく厳密に１６８時間０分で判定するよう変更しました。
　・その他細かい情報（P名リストとジングルリスト等）を更新しました。

2009.09.03 1.14 デザイン変更
　・リクエストタブのデザインを変更しました。情報ボタンを無くし、
　　長いタイトルも表示できるようになりました。
　・その他細かい情報（P名リストとジングルリスト等）を更新しました。

2009.09.01 1.13 表示の変更
　・リクエストタブで動画番号をクリックして出る詳細情報の表示方法を変更しました。
　・マイリスト率などの表示単位を小数点第一位までに変更しました。
　・その他細かい情報を更新しました。

2009.08.25 1.12 メンテナンスリリース
　・メンテナンスリリースです。P名リストとジングルリスト等を更新しました。

2009.08.08 1.11 メンテナンスリリース
　・メンテナンスリリースです。P名リストとジングルリスト等を更新しました。

2009.07.24 1.10 ミクノ度キャッシュ導入
　・ミクノ度の情報をローカルにキャッシュするようになりました。それにより、
　　曲ごとにサーバに問い合わせなくなったので負荷が減り高速化されました。
　　ニコリク起動時に、手元の情報が６時間以上古い場合のみサーバから一括で
　　ミクノ度を取得します。
　・（1.07-1.09 はスキップされます）

2009.07.15 1.06 バグ修正
　・w2kさんによって報告されたコメントログにおける日付フォーマット置換バグを
　　修正しました。

2009.07.13 1.05 画面の簡略化と再生時間の形式変更
　・ウィンドウ外観をさらにシンプルにしました。
　・再生中の曲の時間表示タイプをデフォルトで「カウントダウン方式」に
　　変更しました。従来通りの方式に設定することもできます。

2009.07.05 1.04 ジャンル（タグ）表示機能を追加
　・ジャンル（タグ）をリクエストタブに表示するようになりました。
　　曲の内容を表すタグに限定している点が特徴です。必要がなければ、
　　settings.js の１２７行目あたりをオフにしてください。
　・ジングル一覧なども適宜変更しています。

2009.07.04 1.03 いろんな調整と実験
　・w2kさんによって報告された脆弱性を暫定的に修正しています。
　　1.02以前をお使いの方はアップデートしてください。
　　see http://jbbs.livedoor.jp/bbs/read.cgi/internet/2353/1236050050/411
　・P名のリストを別ファイル（pnames.js）へ分離しました。
　　随時追加していますので、情報をお待ちしています。
　・情報コメントに色を付けました。もっといい配色なども募集しています。
　・[実験的] リスナーからのリクエストを、リクエストリストの
　　末尾ではなく先頭（上）に追加するオプションを追加しました。
　　※適当な実装のため、非推奨の隠し機能扱いです。

2009.06.27 1.02 負荷をかけないオプションを追加

　・動画毎のサムネイルを取得する代わりに、ダミーのサムネイル画像を
　　表示する機能を追加しました。settings.jsの６０行目付近「サムネイル
　　画像表示」の項を参照してください。
　・ミクノ度をサーバに問い合わせないオプションを追加しました。
　　settings.jsの７２行目付近「ミクノ度」の項を参照してください。
　・「ミ」は正式に「彡」に進化しました。

2009.06.22 1.01 インストーラ化

　・インストーラを追加しました（趣味で）。
　・アプリアイコンをコミュアイコンのものに変更しました。

2009.06.21 1.00 最初のリリース

　NicoRequest ｗ２ｋ式VocaloidArrange 2.3.2.3 をベースに改変。

■再配布・改変について

再配布や改変について、オリジナルの作者であるExceptionErrorさまより
許可を頂いています。このバージョンをさらに改変して再配布しても
構いません、その際に私の許可は必要ありません。

ただし、READMEの末尾に「サポートなし、責任なし」を明記してください。
また、オリジナルはドネーションウェアです。このソフトウェアを
気に入った方は、プレミアムユーザになってみてください。
（生主やるひとはみんななっていると思いますが・・）

■免責事項

作者は利用者に対して本プログラムに関するサポートを提供する義務を負いません。
作者は利用者に対して本プログラムにより生じた損害等に対して一切責任を負いません。

以上
